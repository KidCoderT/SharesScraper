{% extends 'base_layout.html' %}

{% block style %}

    <style>

    .chartTitle {
        font-weight: bold;
        text-align: center;
        text-decoration: underline;
    }

    </style>

{% endblock %}

{% block reset %}{% endblock %}

{% block heroTitle %}
{{ data["heroTitle"] }}
{% endblock %}

{% block heroSubtitle %}
{{ data["heroSubtitle"][0] }}
    <hr>
{{ data["heroSubtitle"][1] }}
{% endblock %}

{% block pageContent %}

    <div class="columns">
        <div class="column">
            <div class="box">
                <h1 class="chartTitle">{{ data["name"] }} bought shares in</h1>
                <canvas id="myfirstchart"></canvas>
            </div>
        </div>

        <div class="column">
            <div class="box">
                <h1 class="chartTitle">{{ data["name"] }} sold shares in</h1>
                <canvas id="mysecondchart"></canvas>
            </div>
        </div>

    </div>

    <div class="box">
        <h1 class="chartTitle">{{ data["name"] }} Net Worth History</h1>
        <canvas id="mythirdchart"></canvas>
    </div>


{% endblock %}

{% block script %}

    <script>

    class newChartjsChart {
        constructor(elementId, chartType, xData, yData, label, optionsList) {
            this.ctx = document.getElementById(elementId).getContext('2d');
            this.chartType = chartType;
            this.xData = xData;
            this.yData = yData;
            this.label = label;
            this.optionsList = optionsList;
        }

        createChart() {
            this.myChart = new Chart(this.ctx, {
                // The type of chart we want to create
                type: this.chartType,

                // The data for our dataset
                data: {
                    labels: this.xData,
                    datasets: [{
                        label: this.label,
                        data: this.yData
                    }]
                },

                // Configuration options go here
                options: this.optionsList
            });
        }
    }


    chart1 = new newChartjsChart(
        'myfirstchart',
        'bar',
        ["Africa", "Asia", "Europe", "Latin America", "North America"],
        [2478,5267,734,784,433],
        "Population (millions)",
        {
            legend: { display: false },
            title: { display: false }
        }
    );
    chart1.createChart();


    chart2 = new newChartjsChart(
        'mysecondchart',
        'bar',
        ["Africa", "Asia", "Europe", "Latin America", "North America"],
        [2478,5267,734,784,433],
        "Population (millions)",
        {
            legend: { display: false },
            title: { display: false }
        }
    );
    chart2.createChart();


    chart3 = new newChartjsChart(
        'mythirdchart',
        'line',
        ["Africa", "Asia", "Europe", "Latin America", "North America"],
        [2478,5267,734,784,433],
        "Population (millions)",
        {}
    );
    chart3.createChart();


    </script>

{% endblock %}