{% extends 'base_layout.html' %}

{% block tableData %}

    {% with messages = get_flashed_messages(with_categories=true) %}
        {% if messages %}

            {% for category, message in messages %}
                {% if category == "warning" %}
                    <div class="notification is-warning is-light">
                        {{ message }}
                    </div>
                {% endif %}

                {% if category == "error" %}
                    <div class="notification is-danger is-light">
                        {{ message }}
                    </div>
                {% endif %}

            {% endfor %}

        {% endif %}
    {% endwith %}

    {% for foo in range(0, number) %}
        <tr>
            <th>{{ table_data[foo][4] }}</th>
            <th>{{ table_data[foo][0] }}<a href="/{{ table_data[foo][4] }}/detail"><i class="fas fa-external-link-square-alt"></i></a></th>
            <th>{{ table_data[foo][1] }}</th>
            <th>{{ table_data[foo][2] }}</th>
        </tr>
    {% endfor %}

{% endblock %}

{% block searchForm %}
<div class="box">
    <form class="field has-addons has-addons-centered" action="/" method="POST">
        <p class="control">
            <input class="input" type="text" placeholder="e.g Radhakishan Damani" name="searchObject">
        </p>
        <p class="control">
            <input class="button is-primary" type="submit" placeholder="Submit">
        </p>
    </form>
</div>
{% endblock %}
